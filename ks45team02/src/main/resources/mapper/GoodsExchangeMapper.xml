<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ks45team02.ire.admin.mapper.GoodsExchangeMapper">
    <resultMap id="GoodsExchangeResultMap" type="GoodsExchange">
        <id property="goodsExchangeCode" column="goodsExchangeCode"/>
        <result property="exchangeStandardCode" column="exchangeStandardCode"/>
        <result property="paymentCompleteCode" column="paymentCompleteCode"/>
        <result property="userId" column="userId"/>
        <result property="goodsCode" column="goodsCode"/>
        <result property="goodsExchangeCount" column="goodsExchangeCount"/>
        <result property="goodsExchangePrice" column="goodsExchangePrice"/>
        <result property="goodsExchangeDate" column="goodsExchangeDate"/>
        <result property="goodsExchangeContent" column="goodsExchangeContent"/>
        <result property="exchangeProcessState" column="exchangeProcessState"/>
        <result property="managerId" column="managerId"/>
        <result property="exchangeDate" column="exchangeDate"/>
        <result property="exchangeReject" column="exchangeReject"/>
        <result property="exchangeApproval" column="exchangeApproval"/>
    </resultMap>
    <select id="listGoodsExchange" resultMap="GoodsExchangeResultMap">
        SELECT
            goods_exchange_code,
            exchange_standard_code,
            payment_complete_code,
            user_id,
            goods_code,
            goods_exchange_count,
            goods_exchange_price,
            goods_exchange_date,
            goods_exchange_content,
            exchange_process_state,
            manager_id,
            exchange_date,
            exchange_reject,
            exchange_approval
        FROM
            goods_exchange


    </select>
    <insert id="addGoodsExchange" parameterType="GoodsExchange">
        INSERT INTO goods_exchange
            (goods_exchange_code,
            exchange_standard_code,
            payment_complete_code,
            user_id, goods_code,
            goods_exchange_count,
            goods_exchange_price,
            goods_exchange_date,
            goods_exchange_content,
            exchange_process_state,
            manager_id,
            exchange_date,
            exchange_reject,
            exchange_approval)
        VALUES
        (sf_new_goods_exchange(),
        #{exchangeStandardCode}, #{paymentCompleteCode}, #{userId},#{goodsCode},#{goodsExchangeCount},#{goodsExchangePrice},
        NOW(), #{goodsExchangeContent},#{exchangeProcessState}, #{managerId},#{exchangeDate},#{exchangeReject},#{exchangeApproval})
    </insert>
</mapper>