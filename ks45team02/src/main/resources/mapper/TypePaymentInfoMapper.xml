<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ks45team02.ire.admin.mapper.TypePaymentInfoMapper">
	<resultMap type="TypePaymentInfo" 			id="typePaymentInfoResultMap">
		<id property="paymentTypeCode" 			column="payment_type_code" />
		<result property="userId" 				column="user_id" />
		<result property="paymentType" 			column="payment_type" />
		<result property="paymentBank" 			column="payment_bank" />
		<result property="paymentCardNumber" 	column="payment_card_number" />
		<result property="paymentAccountCode" 	column="payment_account_code" />
		<result property="paymentPhoneTelco" 	column="payment_phone_telco" />
		<result property="paymentPhoneNum" 		column="payment_phone_num" />
	</resultMap>

	 <select id="checkIdWithPaymentType" parameterType="String" resultType="int">
		<!-- 회원 아이디와 결제종류가 일치하는지 확인 -->
    	SELECT 
			COUNT(1)
		FROM 
			payment_complete
		WHERE 
			user_id = #{userId}
			AND 
			payment_type_code = #{paymentTypeCode};
    </select>

</mapper>