<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{user/layout/userDefault}">

<head>

		<!-- Datatables -->
	    <link  th:href="@{/admin/vendors/datatables.net-bs/css/dataTables.bootstrap.min.css}" rel="stylesheet">
	    <link  th:href="@{/admin/vendors/datatables.net-buttons-bs/css/buttons.bootstrap.min.css}" rel="stylesheet">
	    <link  th:href="@{/admin/vendors/datatables.net-fixedheader-bs/css/fixedHeader.bootstrap.min.css}" rel="stylesheet">
	    <link  th:href="@{/admin/vendors/datatables.net-responsive-bs/css/responsive.bootstrap.min.css}" rel="stylesheet">
	    <link  th:href="@{/admin/vendors/datatables.net-scroller-bs/css/scroller.bootstrap.min.css}" rel="stylesheet">
	
	<style type="text/css">
		@font-face {
	    font-family: 'IBMPlexSansKR-Regular';
	    src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_20-07@1.0/IBMPlexSansKR-Regular.woff') format('woff');
	    font-weight: normal;
	    font-style: normal;}
		
		div{
			color: black;
		}
		
		*{
		font-family: 'IBMPlexSansKR-Regular';
		}
		
		</style>
		</head>
	<th:block layout:fragment="customScript">
		<script type="text/javascript" th:inline="javascript">
			$(function(){
				const emissionTotalArr = [[${rmysList}]];
				
				const labelArr1 = emissionTotalArr.map(function(item){
					return item['jan'];
				});
				const labelArr2 = emissionTotalArr.map(function(item){
					return item['feb'];
				});
				const labelArr3 = emissionTotalArr.map(function(item){
					return item['mar'];
				});
				const labelArr4 = emissionTotalArr.map(function(item){
					return item['apr'];
				});
				const labelArr5 = emissionTotalArr.map(function(item){
					return item['may'];
				});
				const labelArr6 = emissionTotalArr.map(function(item){
					return item['jun'];
				});
				const labelArr7 = emissionTotalArr.map(function(item){
					return item['jul'];
				});
				const labelArr8 = emissionTotalArr.map(function(item){
					return item['aug'];
				});
				const labelArr9 = emissionTotalArr.map(function(item){
					return item['sept'];
				});
				const labelArr10 = emissionTotalArr.map(function(item){
					return item['oct'];
				});
				const labelArr11 = emissionTotalArr.map(function(item){
					return item['nov'];
				});
				const labelArr12 = emissionTotalArr.map(function(item){
					return item['dec'];
				});
	
				console.log(emissionTotalArr);
				console.log(labelArr1);
				console.log(labelArr2);
				console.log(labelArr3);
				console.log(labelArr4);
				console.log(labelArr5);
				console.log(labelArr6);
				console.log(labelArr7);
				console.log(labelArr8);
				console.log(labelArr9);
				console.log(labelArr10);
				console.log(labelArr11);
				console.log(labelArr12);
		
	
				 if ($('#emissionChart').length) {
				        var ctx = document.getElementById("emissionChart");
				        var mybarChart = new Chart(ctx, {
				            type: 'bar',
				            data: {
				                labels: ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'],
				                datasets: [{
				                    label: '# of Votes',
				                    backgroundColor: "#26B99A",
				                    data: labelArr1
				                }, {
				                    label: '# of Votes',
				                    backgroundColor: "#03586A",
				                    data: labelArr2
				                }, {
				                    label: '# of Votes',
				                    backgroundColor: "#03586A",
				                    data: labelArr3
				                }, {
				                    label: '# of Votes',
				                    backgroundColor: "#03586A",
				                    data: labelArr4
				                }, {
				                    label: '# of Votes',
				                    backgroundColor: "#03586A",
				                    data: labelArr5
				                }, {
				                    label: '# of Votes',
				                    backgroundColor: "#03586A",
				                    data: labelArr6
				                }, {
				                    label: '# of Votes',
				                    backgroundColor: "#03586A",
				                    data: labelArr7
				                }, {
				                    label: '# of Votes',
				                    backgroundColor: "#03586A",
				                    data: labelArr8
				                }, {
				                    label: '# of Votes',
				                    backgroundColor: "#03586A",
				                    data: labelArr9
				                }, {
				                    label: '# of Votes',
				                    backgroundColor: "#03586A",
				                    data: labelArr10
				                }, {
				                    label: '# of Votes',
				                    backgroundColor: "#03586A",
				                    data: labelArr11
				                }, {
				                    label: '# of Votes',
				                    backgroundColor: "#03586A",
				                    data: labelArr12
				                }]
				            },
				            options: {
				                scales: {
				                    yAxes: [{
				                        ticks: {
				                            beginAtZero: true
				                        }
				                    }]
				                }
				            }
				        });
				  	  }
					});
		</script>	
	</th:block>
	
<th:block layout:fragment="customContents">
	<section class="bg-img1 txt-center p-lr-15 p-tb-92" style="background-image: url('images/bg-02.jpg');">
		<h2 class="ltext-105 cl0 txt-center">
			CO2 통계
		</h2>
	</section> 
			<div class="col-md-12 col-sm-12" stlye="margin: auto">
	                <div class="x_title">
	                  <div class="row x_title">
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">
                    <canvas id="emissionChart"></canvas>
                  </div>
                </div>
              </div>
</th:block>

	<!-- 사용자 지정 js 파일 -->
	<th:block layout:fragment="customJs">
		<!-- Datatables -->
	    <script th:src="@{/admin/vendors/datatables.net/js/jquery.dataTables.min.js}"></script>
	    <script th:src="@{/admin/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js}"></script>
	    <script th:src="@{/admin/vendors/datatables.net-buttons/js/dataTables.buttons.min.js}"></script>
	    <script th:src="@{/admin/vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js}"></script>
	    <script th:src="@{/admin/vendors/datatables.net-buttons/js/buttons.flash.min.js}"></script>
	    <script th:src="@{/admin/vendors/datatables.net-buttons/js/buttons.html5.min.js}"></script>
	    <script th:src="@{/admin/vendors/datatables.net-buttons/js/buttons.print.min.js}"></script>
	    <script th:src="@{/admin/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js}"></script>
	    <script th:src="@{/admin/vendors/datatables.net-keytable/js/dataTables.keyTable.min.js}"></script>
	    <script th:src="@{/admin/vendors/datatables.net-responsive/js/dataTables.responsive.min.js}"></script>
	    <script th:src="@{/admin/vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js}"></script>
	    <script th:src="@{/admin/vendors/datatables.net-scroller/js/dataTables.scroller.min.js}"></script>
	    <script th:src="@{/admin/vendors/jszip/dist/jszip.min.js}"></script>
	    <script th:src="@{/admin/vendors/pdfmake/build/pdfmake.min.js}"></script>
	    <script th:src="@{/admin/vendors/pdfmake/build/vfs_fonts.js}"></script>
	</th:block>
</html>